(0.153) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.149) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
(0.322) CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); args=None; alias=default
(0.147) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
(0.301) CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); args=None; alias=default
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
(0.155) ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); args=None; alias=default
(0.160) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.149) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('contenttypes', '0001_initial', '2023-08-15T10:19:12.629458+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('contenttypes', '0001_initial', datetime.datetime(2023, 8, 15, 10, 19, 12, 629458, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
(0.297) CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); args=None; alias=default
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
(0.153) CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); args=None; alias=default
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
(0.150) CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); args=None; alias=default
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
(0.151) CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); args=None; alias=default
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
(0.150) CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); args=None; alias=default
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
(0.150) CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); args=None; alias=default
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
(0.150) ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); args=None; alias=default
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.151) ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
(0.149) CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); args=None; alias=default
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
(0.152) CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); args=None; alias=default
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
(0.149) ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); args=None; alias=default
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.148) ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.149) ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
(0.159) CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); args=None; alias=default
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
(0.150) CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); args=None; alias=default
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
(0.150) CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); args=None; alias=default
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
(0.150) ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); args=None; alias=default
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.149) ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.148) ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
(0.150) CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); args=None; alias=default
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
(0.149) CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); args=None; alias=default
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
(0.150) ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); args=None; alias=default
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.149) ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.148) ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
(0.150) CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); args=None; alias=default
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
(0.149) CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); args=None; alias=default
(0.151) COMMIT; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0001_initial', '2023-08-15T10:19:17.321757+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0001_initial', datetime.datetime(2023, 8, 15, 10, 19, 17, 321757, tzinfo=datetime.timezone.utc)); alias=default
(0.000) BEGIN; args=None; alias=default
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
(0.302) CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); args=None; alias=default
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.148) ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.150) ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
(0.149) CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); args=None; alias=default
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
(0.150) CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); args=None; alias=default
(0.149) COMMIT; args=None; alias=default
(0.149) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('admin', '0001_initial', '2023-08-15T10:19:18.686155+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('admin', '0001_initial', datetime.datetime(2023, 8, 15, 10, 19, 18, 686155, tzinfo=datetime.timezone.utc)); alias=default
(0.000) BEGIN; args=None; alias=default
(0.297) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('admin', '0002_logentry_remove_auto_add', '2023-08-15T10:19:19.142261+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('admin', '0002_logentry_remove_auto_add', datetime.datetime(2023, 8, 15, 10, 19, 19, 142261, tzinfo=datetime.timezone.utc)); alias=default
(0.147) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
(0.299) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('admin', '0003_logentry_add_action_flag_choices', '2023-08-15T10:19:19.748502+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('admin', '0003_logentry_add_action_flag_choices', datetime.datetime(2023, 8, 15, 10, 19, 19, 748502, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
(0.296) ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; args=None; alias=default
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
(0.148) ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('contenttypes', '0002_remove_content_type_name', '2023-08-15T10:19:20.660538+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('contenttypes', '0002_remove_content_type_name', datetime.datetime(2023, 8, 15, 10, 19, 20, 660538, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
(0.294) ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0002_alter_permission_name_max_length', '2023-08-15T10:19:21.409962+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0002_alter_permission_name_max_length', datetime.datetime(2023, 8, 15, 10, 19, 21, 409962, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
(0.307) ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); args=None; alias=default
(0.149) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0003_alter_user_email_max_length', '2023-08-15T10:19:22.174173+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0003_alter_user_email_max_length', datetime.datetime(2023, 8, 15, 10, 19, 22, 174173, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
(0.297) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0004_alter_user_username_opts', '2023-08-15T10:19:22.778840+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0004_alter_user_username_opts', datetime.datetime(2023, 8, 15, 10, 19, 22, 778840, tzinfo=datetime.timezone.utc)); alias=default
(0.149) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
(0.297) ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0005_alter_user_last_login_null', '2023-08-15T10:19:23.533378+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0005_alter_user_last_login_null', datetime.datetime(2023, 8, 15, 10, 19, 23, 533378, tzinfo=datetime.timezone.utc)); alias=default
(0.147) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
(0.297) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0006_require_contenttypes_0002', '2023-08-15T10:19:24.128441+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0006_require_contenttypes_0002', datetime.datetime(2023, 8, 15, 10, 19, 24, 128441, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
(0.295) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0007_alter_validators_add_error_messages', '2023-08-15T10:19:24.747706+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0007_alter_validators_add_error_messages', datetime.datetime(2023, 8, 15, 10, 19, 24, 747706, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
(0.300) ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); args=None; alias=default
(0.150) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0008_alter_user_username_max_length', '2023-08-15T10:19:25.507471+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0008_alter_user_username_max_length', datetime.datetime(2023, 8, 15, 10, 19, 25, 507471, tzinfo=datetime.timezone.utc)); alias=default
(0.149) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
(0.294) ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); args=None; alias=default
(0.150) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0009_alter_user_last_name_max_length', '2023-08-15T10:19:26.260896+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0009_alter_user_last_name_max_length', datetime.datetime(2023, 8, 15, 10, 19, 26, 260896, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
(0.296) ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.150) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0010_alter_group_name_max_length', '2023-08-15T10:19:27.013254+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0010_alter_group_name_max_length', datetime.datetime(2023, 8, 15, 10, 19, 27, 13254, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
(0.296) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0011_update_proxy_permissions', '2023-08-15T10:19:27.621330+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0011_update_proxy_permissions', datetime.datetime(2023, 8, 15, 10, 19, 27, 621330, tzinfo=datetime.timezone.utc)); alias=default
(0.147) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
(0.296) ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); args=None; alias=default
(0.150) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('auth', '0012_alter_user_first_name_max_length', '2023-08-15T10:19:28.375294+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('auth', '0012_alter_user_first_name_max_length', datetime.datetime(2023, 8, 15, 10, 19, 28, 375294, tzinfo=datetime.timezone.utc)); alias=default
(0.147) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
(0.300) CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); args=None; alias=default
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
(0.150) CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); args=None; alias=default
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
(0.150) CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); args=None; alias=default
(0.148) COMMIT; args=None; alias=default
(0.149) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.149) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('sessions', '0001_initial', '2023-08-15T10:19:29.574828+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('sessions', '0001_initial', datetime.datetime(2023, 8, 15, 10, 19, 29, 574828, tzinfo=datetime.timezone.utc)); alias=default
(0.000) BEGIN; args=None; alias=default
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
(0.313) CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); args=None; alias=default
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.150) ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
(0.157) COMMIT; args=None; alias=default
(0.149) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.149) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0001_initial', '2023-08-15T10:19:30.505676+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0001_initial', datetime.datetime(2023, 8, 15, 10, 19, 30, 505676, tzinfo=datetime.timezone.utc)); alias=default
(0.000) BEGIN; args=None; alias=default
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
(0.301) CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); args=None; alias=default
DROP TABLE "trading_player" CASCADE; (params None)
(0.148) DROP TABLE "trading_player" CASCADE; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0002_trader_delete_player', '2023-08-15T10:19:31.260968+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0002_trader_delete_player', datetime.datetime(2023, 8, 15, 10, 19, 31, 260968, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
(0.298) CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); args=None; alias=default
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
(0.150) CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); args=None; alias=default
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
(0.154) CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); args=None; alias=default
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.158) ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.155) ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.272) ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
(0.149) CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); args=None; alias=default
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
(0.156) CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); args=None; alias=default
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.147) ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.148) ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
(0.146) COMMIT; args=None; alias=default
(0.147) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0003_aiplayer_trade_player', '2023-08-15T10:19:33.669062+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0003_aiplayer_trade_player', datetime.datetime(2023, 8, 15, 10, 19, 33, 669062, tzinfo=datetime.timezone.utc)); alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
(0.295) ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; args=None; alias=default
(0.150) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0004_remove_trader_position', '2023-08-15T10:19:34.271783+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0004_remove_trader_position', datetime.datetime(2023, 8, 15, 10, 19, 34, 271783, tzinfo=datetime.timezone.utc)); alias=default
(0.150) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
(0.297) ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; args=None; alias=default
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
(0.147) ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; args=None; alias=default
(0.147) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0005_trade_quantity', '2023-08-15T10:19:35.172004+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0005_trade_quantity', datetime.datetime(2023, 8, 15, 10, 19, 35, 172004, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
(0.294) ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.146) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0006_remove_trader_pnl', '2023-08-15T10:19:35.919653+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0006_remove_trader_pnl', datetime.datetime(2023, 8, 15, 10, 19, 35, 919653, tzinfo=datetime.timezone.utc)); alias=default
(0.147) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
(0.295) ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; args=None; alias=default
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
(0.147) ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0007_trade_pnl', '2023-08-15T10:19:36.808092+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0007_trade_pnl', datetime.datetime(2023, 8, 15, 10, 19, 36, 808092, tzinfo=datetime.timezone.utc)); alias=default
(0.150) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
(0.296) ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.147) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0008_remove_trade_pnl', '2023-08-15T10:19:37.559144+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0008_remove_trade_pnl', datetime.datetime(2023, 8, 15, 10, 19, 37, 559144, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
(0.295) ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; args=None; alias=default
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
(0.147) ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; args=None; alias=default
(0.147) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0009_player_position', '2023-08-15T10:19:38.459143+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0009_player_position', datetime.datetime(2023, 8, 15, 10, 19, 38, 459143, tzinfo=datetime.timezone.utc)); alias=default
(0.157) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
(0.316) ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; args=None; alias=default
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
(0.148) ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.149) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0010_player_cash_flow', '2023-08-15T10:19:39.395747+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0010_player_cash_flow', datetime.datetime(2023, 8, 15, 10, 19, 39, 395747, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
(0.295) ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; args=None; alias=default
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
(0.147) ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; args=None; alias=default
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
(0.147) ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; args=None; alias=default
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
(0.149) ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; args=None; alias=default
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
(0.147) ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; args=None; alias=default
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
(0.148) ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; args=None; alias=default
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
(0.148) ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; args=None; alias=default
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
(0.148) ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0011_aiplayer_bid_aiplayer_offer_player_bid_player_offer', '2023-08-15T10:19:41.213995+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0011_aiplayer_bid_aiplayer_offer_player_bid_player_offer', datetime.datetime(2023, 8, 15, 10, 19, 41, 213995, tzinfo=datetime.timezone.utc)); alias=default
(0.149) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
(0.302) CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); args=None; alias=default
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
(0.151) CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); args=None; alias=default
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
(0.154) CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); args=None; alias=default
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
(0.152) CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); args=None; alias=default
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
(0.150) CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); args=None; alias=default
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
(0.148) ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; args=None; alias=default
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
(0.150) ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); args=None; alias=default
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.148) ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.149) ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
(0.150) CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); args=None; alias=default
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
(0.150) CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); args=None; alias=default
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.148) ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
(0.150) CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); args=None; alias=default
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
(0.150) ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); args=None; alias=default
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.149) ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.150) ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
(0.150) CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); args=None; alias=default
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
(0.150) CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); args=None; alias=default
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
(0.150) ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); args=None; alias=default
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.149) ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.149) ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
(0.153) CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); args=None; alias=default
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
(0.150) CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); args=None; alias=default
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
(0.150) CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); args=None; alias=default
(0.148) COMMIT; args=None; alias=default
(0.149) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0012_gamesession_round_aiplayer_games_player_games_and_more', '2023-08-15T10:19:45.649405+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0012_gamesession_round_aiplayer_games_player_games_and_more', datetime.datetime(2023, 8, 15, 10, 19, 45, 649405, tzinfo=datetime.timezone.utc)); alias=default
(0.000) BEGIN; args=None; alias=default
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
(0.295) ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; args=None; alias=default
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
(0.148) ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.150) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0013_round_round_number', '2023-08-15T10:19:46.401563+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0013_round_round_number', datetime.datetime(2023, 8, 15, 10, 19, 46, 401563, tzinfo=datetime.timezone.utc)); alias=default
(0.147) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
(0.301) 
            SELECT
                c.conname,
                array(
                    SELECT attname
                    FROM unnest(c.conkey) WITH ORDINALITY cols(colid, arridx)
                    JOIN pg_attribute AS ca ON cols.colid = ca.attnum
                    WHERE ca.attrelid = c.conrelid
                    ORDER BY cols.arridx
                ),
                c.contype,
                (SELECT fkc.relname || '.' || fka.attname
                FROM pg_attribute AS fka
                JOIN pg_class AS fkc ON fka.attrelid = fkc.oid
                WHERE fka.attrelid = c.confrelid AND fka.attnum = c.confkey[1]),
                cl.reloptions
            FROM pg_constraint AS c
            JOIN pg_class AS cl ON c.conrelid = cl.oid
            WHERE cl.relname = 'trading_trade' AND pg_catalog.pg_table_is_visible(cl.oid)
        ; args=['trading_trade']; alias=default
(0.156) 
            SELECT
                indexname,
                array_agg(attname ORDER BY arridx),
                indisunique,
                indisprimary,
                array_agg(ordering ORDER BY arridx),
                amname,
                exprdef,
                s2.attoptions
            FROM (
                SELECT
                    c2.relname as indexname, idx.*, attr.attname, am.amname,
                    CASE
                        WHEN idx.indexprs IS NOT NULL THEN
                            pg_get_indexdef(idx.indexrelid)
                    END AS exprdef,
                    CASE am.amname
                        WHEN 'btree' THEN
                            CASE (option & 1)
                                WHEN 1 THEN 'DESC' ELSE 'ASC'
                            END
                    END as ordering,
                    c2.reloptions as attoptions
                FROM (
                    SELECT *
                    FROM
                        pg_index i,
                        unnest(i.indkey, i.indoption)
                            WITH ORDINALITY koi(key, option, arridx)
                ) idx
                LEFT JOIN pg_class c ON idx.indrelid = c.oid
                LEFT JOIN pg_class c2 ON idx.indexrelid = c2.oid
                LEFT JOIN pg_am am ON c2.relam = am.oid
                LEFT JOIN
                    pg_attribute attr ON attr.attrelid = c.oid AND attr.attnum = idx.key
                WHERE c.relname = 'trading_trade' AND pg_catalog.pg_table_is_visible(c.oid)
            ) s2
            GROUP BY indexname, indisunique, indisprimary, amname, exprdef, attoptions;
        ; args=['btree', 'trading_trade']; alias=default
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
(0.147) SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; args=None; alias=default
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
(0.147) ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; args=None; alias=default
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.152) ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.146) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0014_alter_trade_game_session', '2023-08-15T10:19:47.771159+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0014_alter_trade_game_session', datetime.datetime(2023, 8, 15, 10, 19, 47, 771159, tzinfo=datetime.timezone.utc)); alias=default
(0.148) COMMIT; args=None; alias=default
(0.000) BEGIN; args=None; alias=default
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
(0.297) DROP TABLE "trading_aiplayer_games" CASCADE; args=None; alias=default
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
(0.166) CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); args=None; alias=default
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
(0.152) ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); args=None; alias=default
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.148) ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
(0.148) ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; args=None; alias=default
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
(0.157) CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); args=None; alias=default
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
(0.160) CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); args=None; alias=default
(0.148) COMMIT; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.148) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0015_remove_aiplayer_games_gamesession_ai_players', '2023-08-15T10:19:49.630829+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0015_remove_aiplayer_games_gamesession_ai_players', datetime.datetime(2023, 8, 15, 10, 19, 49, 630829, tzinfo=datetime.timezone.utc)); alias=default
(0.000) BEGIN; args=None; alias=default
(0.300) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.146) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('trading', '0016_alter_player_games', '2023-08-15T10:19:50.095220+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('trading', '0016_alter_player_games', datetime.datetime(2023, 8, 15, 10, 19, 50, 95220, tzinfo=datetime.timezone.utc)); alias=default
(0.147) COMMIT; args=None; alias=default
(0.148) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.174) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
(0.171) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',); alias=default
(0.000) BEGIN; args=None; alias=default
(0.298) INSERT INTO "django_content_type" ("app_label", "model") VALUES ('admin', 'logentry') RETURNING "django_content_type"."id"; args=('admin', 'logentry'); alias=default
(0.150) COMMIT; args=None; alias=default
(0.147) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'admin' AND "django_content_type"."model" = 'logentry') LIMIT 21; args=('admin', 'logentry'); alias=default
(0.148) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (1) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.296) INSERT INTO "auth_permission" ("name", "content_type_id", "codename") VALUES ('Can add log entry', 1, 'add_logentry'), ('Can change log entry', 1, 'change_logentry'), ('Can delete log entry', 1, 'delete_logentry'), ('Can view log entry', 1, 'view_logentry') RETURNING "auth_permission"."id"; args=('Can add log entry', 1, 'add_logentry', 'Can change log entry', 1, 'change_logentry', 'Can delete log entry', 1, 'delete_logentry', 'Can view log entry', 1, 'view_logentry'); alias=default
(0.150) COMMIT; args=None; alias=default
(0.148) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',); alias=default
(0.147) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',); alias=default
(0.000) BEGIN; args=None; alias=default
(0.295) INSERT INTO "django_content_type" ("app_label", "model") VALUES ('auth', 'permission'), ('auth', 'group'), ('auth', 'user') RETURNING "django_content_type"."id"; args=('auth', 'permission', 'auth', 'group', 'auth', 'user'); alias=default
(0.147) COMMIT; args=None; alias=default
(0.148) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'permission') LIMIT 21; args=('auth', 'permission'); alias=default
(1.427) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'group') LIMIT 21; args=('auth', 'group'); alias=default
(0.147) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'user') LIMIT 21; args=('auth', 'user'); alias=default
(0.148) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (2, 3, 4) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(2, 3, 4); alias=default
(0.000) BEGIN; args=None; alias=default
(0.297) INSERT INTO "auth_permission" ("name", "content_type_id", "codename") VALUES ('Can add permission', 2, 'add_permission'), ('Can change permission', 2, 'change_permission'), ('Can delete permission', 2, 'delete_permission'), ('Can view permission', 2, 'view_permission'), ('Can add group', 3, 'add_group'), ('Can change group', 3, 'change_group'), ('Can delete group', 3, 'delete_group'), ('Can view group', 3, 'view_group'), ('Can add user', 4, 'add_user'), ('Can change user', 4, 'change_user'), ('Can delete user', 4, 'delete_user'), ('Can view user', 4, 'view_user') RETURNING "auth_permission"."id"; args=('Can add permission', 2, 'add_permission', 'Can change permission', 2, 'change_permission', 'Can delete permission', 2, 'delete_permission', 'Can view permission', 2, 'view_permission', 'Can add group', 3, 'add_group', 'Can change group', 3, 'change_group', 'Can delete group', 3, 'delete_group', 'Can view group', 3, 'view_group', 'Can add user', 4, 'add_user', 'Can change user', 4, 'change_user', 'Can delete user', 4, 'delete_user', 'Can view user', 4, 'view_user'); alias=default
(0.149) COMMIT; args=None; alias=default
(0.149) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',); alias=default
(0.147) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',); alias=default
(0.000) BEGIN; args=None; alias=default
(0.295) INSERT INTO "django_content_type" ("app_label", "model") VALUES ('contenttypes', 'contenttype') RETURNING "django_content_type"."id"; args=('contenttypes', 'contenttype'); alias=default
(0.149) COMMIT; args=None; alias=default
(0.154) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'contenttypes' AND "django_content_type"."model" = 'contenttype') LIMIT 21; args=('contenttypes', 'contenttype'); alias=default
(0.146) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (5) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(5,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.294) INSERT INTO "auth_permission" ("name", "content_type_id", "codename") VALUES ('Can add content type', 5, 'add_contenttype'), ('Can change content type', 5, 'change_contenttype'), ('Can delete content type', 5, 'delete_contenttype'), ('Can view content type', 5, 'view_contenttype') RETURNING "auth_permission"."id"; args=('Can add content type', 5, 'add_contenttype', 'Can change content type', 5, 'change_contenttype', 'Can delete content type', 5, 'delete_contenttype', 'Can view content type', 5, 'view_contenttype'); alias=default
(0.147) COMMIT; args=None; alias=default
(0.147) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',); alias=default
(0.147) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',); alias=default
(0.000) BEGIN; args=None; alias=default
(0.297) INSERT INTO "django_content_type" ("app_label", "model") VALUES ('sessions', 'session') RETURNING "django_content_type"."id"; args=('sessions', 'session'); alias=default
(0.147) COMMIT; args=None; alias=default
(0.147) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'sessions' AND "django_content_type"."model" = 'session') LIMIT 21; args=('sessions', 'session'); alias=default
(0.148) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (6) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(6,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.295) INSERT INTO "auth_permission" ("name", "content_type_id", "codename") VALUES ('Can add session', 6, 'add_session'), ('Can change session', 6, 'change_session'), ('Can delete session', 6, 'delete_session'), ('Can view session', 6, 'view_session') RETURNING "auth_permission"."id"; args=('Can add session', 6, 'add_session', 'Can change session', 6, 'change_session', 'Can delete session', 6, 'delete_session', 'Can view session', 6, 'view_session'); alias=default
(0.148) COMMIT; args=None; alias=default
(0.147) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',); alias=default
(0.147) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'trading'; args=('trading',); alias=default
(0.000) BEGIN; args=None; alias=default
(0.299) INSERT INTO "django_content_type" ("app_label", "model") VALUES ('trading', 'trader'), ('trading', 'aiplayer'), ('trading', 'trade'), ('trading', 'player'), ('trading', 'gamesession'), ('trading', 'round') RETURNING "django_content_type"."id"; args=('trading', 'trader', 'trading', 'aiplayer', 'trading', 'trade', 'trading', 'player', 'trading', 'gamesession', 'trading', 'round'); alias=default
(0.147) COMMIT; args=None; alias=default
(0.148) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'trading' AND "django_content_type"."model" = 'trader') LIMIT 21; args=('trading', 'trader'); alias=default
(0.147) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'trading' AND "django_content_type"."model" = 'aiplayer') LIMIT 21; args=('trading', 'aiplayer'); alias=default
(0.148) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'trading' AND "django_content_type"."model" = 'trade') LIMIT 21; args=('trading', 'trade'); alias=default
(0.147) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'trading' AND "django_content_type"."model" = 'player') LIMIT 21; args=('trading', 'player'); alias=default
(0.149) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'trading' AND "django_content_type"."model" = 'gamesession') LIMIT 21; args=('trading', 'gamesession'); alias=default
(0.148) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'trading' AND "django_content_type"."model" = 'round') LIMIT 21; args=('trading', 'round'); alias=default
(0.156) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (7, 8, 9, 10, 11, 12) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(7, 8, 9, 10, 11, 12); alias=default
(0.000) BEGIN; args=None; alias=default
(0.308) INSERT INTO "auth_permission" ("name", "content_type_id", "codename") VALUES ('Can add trader', 7, 'add_trader'), ('Can change trader', 7, 'change_trader'), ('Can delete trader', 7, 'delete_trader'), ('Can view trader', 7, 'view_trader'), ('Can add ai player', 8, 'add_aiplayer'), ('Can change ai player', 8, 'change_aiplayer'), ('Can delete ai player', 8, 'delete_aiplayer'), ('Can view ai player', 8, 'view_aiplayer'), ('Can add trade', 9, 'add_trade'), ('Can change trade', 9, 'change_trade'), ('Can delete trade', 9, 'delete_trade'), ('Can view trade', 9, 'view_trade'), ('Can add player', 10, 'add_player'), ('Can change player', 10, 'change_player'), ('Can delete player', 10, 'delete_player'), ('Can view player', 10, 'view_player'), ('Can add game session', 11, 'add_gamesession'), ('Can change game session', 11, 'change_gamesession'), ('Can delete game session', 11, 'delete_gamesession'), ('Can view game session', 11, 'view_gamesession'), ('Can add round', 12, 'add_round'), ('Can change round', 12, 'change_round'), ('Can delete round', 12, 'delete_round'), ('Can view round', 12, 'view_round') RETURNING "auth_permission"."id"; args=('Can add trader', 7, 'add_trader', 'Can change trader', 7, 'change_trader', 'Can delete trader', 7, 'delete_trader', 'Can view trader', 7, 'view_trader', 'Can add ai player', 8, 'add_aiplayer', 'Can change ai player', 8, 'change_aiplayer', 'Can delete ai player', 8, 'delete_aiplayer', 'Can view ai player', 8, 'view_aiplayer', 'Can add trade', 9, 'add_trade', 'Can change trade', 9, 'change_trade', 'Can delete trade', 9, 'delete_trade', 'Can view trade', 9, 'view_trade', 'Can add player', 10, 'add_player', 'Can change player', 10, 'change_player', 'Can delete player', 10, 'delete_player', 'Can view player', 10, 'view_player', 'Can add game session', 11, 'add_gamesession', 'Can change game session', 11, 'change_gamesession', 'Can delete game session', 11, 'delete_gamesession', 'Can view game session', 11, 'view_gamesession', 'Can add round', 12, 'add_round', 'Can change round', 12, 'change_round', 'Can delete round', 12, 'delete_round', 'Can view round', 12, 'view_round'); alias=default
(0.148) COMMIT; args=None; alias=default
(0.148) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'trading'; args=('trading',); alias=default
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
(0.273) SELECT MAX("trading_aiplayer"."bid") AS "bid__max" FROM "trading_aiplayer"; args=(); alias=default
(0.324) SELECT MIN("trading_aiplayer"."offer") AS "offer__min" FROM "trading_aiplayer"; args=(); alias=default
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
Exception while resolving variable 'trades' in template 'game.html'.
Traceback (most recent call last):
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/template/base.py", line 880, in _resolve_lookup
    current = current[bit]
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/template/context.py", line 83, in __getitem__
    raise KeyError(key)
KeyError: 'trades'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/template/base.py", line 886, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'trades'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/template/base.py", line 896, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'trades'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/template/base.py", line 903, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [trades] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'ELuaELsnEM744YVDwNN6duNX0DTJPKtPQ06dkdx5aBhyIY7zzLt8BSqPTCBD5VWb'>, 'request': <WSGIRequest: GET '/game/'>, 'user': <SimpleLazyObject: <User: testuser>>, 'perms': PermWrapper(<SimpleLazyObject: <User: testuser>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/game/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'username': 'testuser', 'position': 0, 'pnl': Decimal('0.00'), 'form': <BidOfferForm bound=False, valid=False, fields=(bid;offer)>, 'ai_players': <QuerySet []>}, {}]
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
Internal Server Error: /game/
Traceback (most recent call last):
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapper_view
    return view_func(request, *args, **kwargs)
  File "/Users/tariqhamdan/Django/bargetrader/trading/views.py", line 123, in game
    game_session = GameSession.objects.filter(players=request.user, active=True).first()
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/db/models/query.py", line 1436, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/db/models/query.py", line 1454, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/db/models/query.py", line 1461, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/db/models/sql/query.py", line 1534, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/db/models/sql/query.py", line 1565, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/db/models/sql/query.py", line 1453, in build_filter
    self.check_related_objects(join_info.final_field, value, join_info.opts)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/db/models/sql/query.py", line 1264, in check_related_objects
    self.check_query_object_type(value, opts, field)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/db/models/sql/query.py", line 1241, in check_query_object_type
    raise ValueError(
ValueError: Cannot query "testuser": Must be "Player" instance.
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
Internal Server Error: /game/
Traceback (most recent call last):
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapper_view
    return view_func(request, *args, **kwargs)
  File "/Users/tariqhamdan/Django/bargetrader/trading/views.py", line 131, in game
    return render(request, "error.html", {"message": "No active game session found."})
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/template/loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "/Users/tariqhamdan/Django/venv/lib/python3.9/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: error.html
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
CREATE TABLE "django_migrations" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "app" varchar(255) NOT NULL, "name" varchar(255) NOT NULL, "applied" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "django_content_type" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(100) NOT NULL, "app_label" varchar(100) NOT NULL, "model" varchar(100) NOT NULL); (params None)
ALTER TABLE "django_content_type" ADD CONSTRAINT "django_content_type_app_label_model_76bd3d3b_uniq" UNIQUE ("app_label", "model"); (params None)
CREATE TABLE "auth_permission" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(50) NOT NULL, "content_type_id" integer NOT NULL, "codename" varchar(100) NOT NULL); (params None)
CREATE TABLE "auth_group" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(80) NOT NULL UNIQUE); (params None)
CREATE TABLE "auth_group_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "group_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "password" varchar(128) NOT NULL, "last_login" timestamp with time zone NOT NULL, "is_superuser" boolean NOT NULL, "username" varchar(30) NOT NULL UNIQUE, "first_name" varchar(30) NOT NULL, "last_name" varchar(30) NOT NULL, "email" varchar(75) NOT NULL, "is_staff" boolean NOT NULL, "is_active" boolean NOT NULL, "date_joined" timestamp with time zone NOT NULL); (params None)
CREATE TABLE "auth_user_groups" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "group_id" integer NOT NULL); (params None)
CREATE TABLE "auth_user_user_permissions" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "user_id" integer NOT NULL, "permission_id" integer NOT NULL); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_codename_01ab375a_uniq" UNIQUE ("content_type_id", "codename"); (params None)
ALTER TABLE "auth_permission" ADD CONSTRAINT "auth_permission_content_type_id_2f476e4b_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_permission_content_type_id_2f476e4b" ON "auth_permission" ("content_type_id"); (params None)
CREATE INDEX "auth_group_name_a6ea08ec_like" ON "auth_group" ("name" varchar_pattern_ops); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_permission_id_0cd325b0_uniq" UNIQUE ("group_id", "permission_id"); (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_group_permissions" ADD CONSTRAINT "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_group_permissions_group_id_b120cbf9" ON "auth_group_permissions" ("group_id"); (params None)
CREATE INDEX "auth_group_permissions_permission_id_84c5c92e" ON "auth_group_permissions" ("permission_id"); (params None)
CREATE INDEX "auth_user_username_6821ab7c_like" ON "auth_user" ("username" varchar_pattern_ops); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_group_id_94350c0c_uniq" UNIQUE ("user_id", "group_id"); (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_groups" ADD CONSTRAINT "auth_user_groups_group_id_97559544_fk_auth_group_id" FOREIGN KEY ("group_id") REFERENCES "auth_group" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_groups_user_id_6a12ed8b" ON "auth_user_groups" ("user_id"); (params None)
CREATE INDEX "auth_user_groups_group_id_97559544" ON "auth_user_groups" ("group_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq" UNIQUE ("user_id", "permission_id"); (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "auth_user_user_permissions" ADD CONSTRAINT "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm" FOREIGN KEY ("permission_id") REFERENCES "auth_permission" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "auth_user_user_permissions_user_id_a95ead1b" ON "auth_user_user_permissions" ("user_id"); (params None)
CREATE INDEX "auth_user_user_permissions_permission_id_1fbb5f2c" ON "auth_user_user_permissions" ("permission_id"); (params None)
CREATE TABLE "django_admin_log" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "action_time" timestamp with time zone NOT NULL, "object_id" text NULL, "object_repr" varchar(200) NOT NULL, "action_flag" smallint NOT NULL CHECK ("action_flag" >= 0), "change_message" text NOT NULL, "content_type_id" integer NULL, "user_id" integer NOT NULL); (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_content_type_id_c4bce8eb_fk_django_co" FOREIGN KEY ("content_type_id") REFERENCES "django_content_type" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "django_admin_log" ADD CONSTRAINT "django_admin_log_user_id_c564eba6_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "django_admin_log_content_type_id_c4bce8eb" ON "django_admin_log" ("content_type_id"); (params None)
CREATE INDEX "django_admin_log_user_id_c564eba6" ON "django_admin_log" ("user_id"); (params None)
ALTER TABLE "django_content_type" ALTER COLUMN "name" DROP NOT NULL; (params None)
ALTER TABLE "django_content_type" DROP COLUMN "name" CASCADE; (params None)
ALTER TABLE "auth_permission" ALTER COLUMN "name" TYPE varchar(255); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "email" TYPE varchar(254); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_login" DROP NOT NULL; (params None)
ALTER TABLE "auth_user" ALTER COLUMN "username" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "last_name" TYPE varchar(150); (params None)
ALTER TABLE "auth_group" ALTER COLUMN "name" TYPE varchar(150); (params None)
ALTER TABLE "auth_user" ALTER COLUMN "first_name" TYPE varchar(150); (params None)
CREATE TABLE "django_session" ("session_key" varchar(40) NOT NULL PRIMARY KEY, "session_data" text NOT NULL, "expire_date" timestamp with time zone NOT NULL); (params None)
CREATE INDEX "django_session_session_key_c0390e0f_like" ON "django_session" ("session_key" varchar_pattern_ops); (params None)
CREATE INDEX "django_session_expire_date_a5c62663" ON "django_session" ("expire_date"); (params None)
CREATE TABLE "trading_player" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "position" integer NOT NULL, "pnl" integer NOT NULL, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE TABLE "trading_trader" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "name" varchar(200) NOT NULL, "position" integer NOT NULL, "pnl" integer NOT NULL); (params None)
DROP TABLE "trading_player" CASCADE; (params None)
CREATE TABLE "trading_aiplayer" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "style" varchar(200) NOT NULL); (params None)
CREATE TABLE "trading_trade" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "price" numeric(6, 2) NOT NULL, "buyer_id" bigint NOT NULL, "seller_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player" ("trader_ptr_id" bigint NOT NULL PRIMARY KEY, "user_id" integer NOT NULL UNIQUE); (params None)
ALTER TABLE "trading_aiplayer" ADD CONSTRAINT "trading_aiplayer_trader_ptr_id_e439f0d0_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_buyer_id_169500a7_fk_trading_trader_id" FOREIGN KEY ("buyer_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_seller_id_cf14591b_fk_trading_trader_id" FOREIGN KEY ("seller_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_trade_buyer_id_169500a7" ON "trading_trade" ("buyer_id"); (params None)
CREATE INDEX "trading_trade_seller_id_cf14591b" ON "trading_trade" ("seller_id"); (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_trader_ptr_id_4b616e30_fk_trading_trader_id" FOREIGN KEY ("trader_ptr_id") REFERENCES "trading_trader" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player" ADD CONSTRAINT "trading_player_user_id_0e411fef_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "position" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "quantity" integer DEFAULT 2000 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "quantity" DROP DEFAULT; (params None)
ALTER TABLE "trading_trader" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_trade" ADD COLUMN "pnl" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "pnl" DROP DEFAULT; (params None)
ALTER TABLE "trading_trade" DROP COLUMN "pnl" CASCADE; (params None)
ALTER TABLE "trading_player" ADD COLUMN "position" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "position" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "cash_flow" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "cash_flow" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_aiplayer" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_aiplayer" ALTER COLUMN "offer" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "bid" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "bid" DROP DEFAULT; (params None)
ALTER TABLE "trading_player" ADD COLUMN "offer" numeric(10, 2) DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_player" ALTER COLUMN "offer" DROP DEFAULT; (params None)
CREATE TABLE "trading_gamesession" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "active" boolean NOT NULL, "created_at" timestamp with time zone NOT NULL, "finished_at" timestamp with time zone NULL, "trade_out_price" numeric(10, 2) NOT NULL); (params None)
CREATE TABLE "trading_gamesession_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "player_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_round" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "start_time" timestamp with time zone NOT NULL, "end_time" timestamp with time zone NULL, "game_session_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_aiplayer_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "aiplayer_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
CREATE TABLE "trading_player_games" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "player_id" bigint NOT NULL, "gamesession_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_trade" ADD COLUMN "game_session_id" bigint NULL CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" REFERENCES "trading_gamesession"("id") DEFERRABLE INITIALLY DEFERRED; SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession_play_gamesession_id_player_id_bf49c6d7_uniq" UNIQUE ("gamesession_id", "player_id"); (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_828769f9_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_players" ADD CONSTRAINT "trading_gamesession__player_id_55bb996f_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_players_gamesession_id_828769f9" ON "trading_gamesession_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_players_player_id_55bb996f" ON "trading_gamesession_players" ("player_id"); (params None)
ALTER TABLE "trading_round" ADD CONSTRAINT "trading_round_game_session_id_0aacfc72_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_round_game_session_id_0aacfc72" ON "trading_round" ("game_session_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_games_aiplayer_id_gamesession_id_63921c3b_uniq" UNIQUE ("aiplayer_id", "gamesession_id"); (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_aiplayer_id_43a74cb7_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_aiplayer_games" ADD CONSTRAINT "trading_aiplayer_gam_gamesession_id_1041a33f_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_aiplayer_games_aiplayer_id_43a74cb7" ON "trading_aiplayer_games" ("aiplayer_id"); (params None)
CREATE INDEX "trading_aiplayer_games_gamesession_id_1041a33f" ON "trading_aiplayer_games" ("gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_gamesession_id_034845c2_uniq" UNIQUE ("player_id", "gamesession_id"); (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_player_id_1cc18d45_fk_trading_p" FOREIGN KEY ("player_id") REFERENCES "trading_player" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_player_games" ADD CONSTRAINT "trading_player_games_gamesession_id_50a7d286_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_player_games_player_id_1cc18d45" ON "trading_player_games" ("player_id"); (params None)
CREATE INDEX "trading_player_games_gamesession_id_50a7d286" ON "trading_player_games" ("gamesession_id"); (params None)
CREATE INDEX "trading_trade_game_session_id_b8cfd8fb" ON "trading_trade" ("game_session_id"); (params None)
ALTER TABLE "trading_round" ADD COLUMN "round_number" integer DEFAULT 0 NOT NULL; (params None)
ALTER TABLE "trading_round" ALTER COLUMN "round_number" DROP DEFAULT; (params None)
SET CONSTRAINTS "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" IMMEDIATE; ALTER TABLE "trading_trade" DROP CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g"; (params None)
ALTER TABLE "trading_trade" ALTER COLUMN "game_session_id" SET NOT NULL; (params None)
ALTER TABLE "trading_trade" ADD CONSTRAINT "trading_trade_game_session_id_b8cfd8fb_fk_trading_g" FOREIGN KEY ("game_session_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
DROP TABLE "trading_aiplayer_games" CASCADE; (params None)
CREATE TABLE "trading_gamesession_ai_players" ("id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "gamesession_id" bigint NOT NULL, "aiplayer_id" bigint NOT NULL); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession_ai_p_gamesession_id_aiplayer__c5d7c149_uniq" UNIQUE ("gamesession_id", "aiplayer_id"); (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__gamesession_id_22b02ac4_fk_trading_g" FOREIGN KEY ("gamesession_id") REFERENCES "trading_gamesession" ("id") DEFERRABLE INITIALLY DEFERRED; (params None)
ALTER TABLE "trading_gamesession_ai_players" ADD CONSTRAINT "trading_gamesession__aiplayer_id_abeafe57_fk_trading_a" FOREIGN KEY ("aiplayer_id") REFERENCES "trading_aiplayer" ("trader_ptr_id") DEFERRABLE INITIALLY DEFERRED; (params None)
CREATE INDEX "trading_gamesession_ai_players_gamesession_id_22b02ac4" ON "trading_gamesession_ai_players" ("gamesession_id"); (params None)
CREATE INDEX "trading_gamesession_ai_players_aiplayer_id_abeafe57" ON "trading_gamesession_ai_players" ("aiplayer_id"); (params None)
